<!DOCTYPE html>
<html>

<head>
  <title>Car Carbon Footprint</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <div class="main-page">
    <h1>Car Carbon Footprint</h1>
    <div class="test">
      <div>
        <h3>What is your car's MPG?</h3>
        <input id='mpg' type='number' placeholder='Insert MPG' />
      </div>
      <div>
        <h3>What is the total commute distance? (in miles)</h3>
        <input id='dist' type='number' placeholder='Insert Distance' />
      </div>
      <div>
        <h3>How often is this trip per week?</h3>
        <input id='trips' type='number' placeholder='Insert Trips' />
      </div>
      </br>
      <div>
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick='calcCO2()'>
          Calculate
        </button>
      </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Carbon Footprint Result</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class='container text-center'>
              <div>
                <h5>Carbon Footprint this trip:</h5>
                <h5 id='result' class='bg-success rounded-lg'>
                  <h5>g CO2e</h5>
                  <br />
              </div>
              <div>
                <h5>Carbon Footprint per week:</h5>
                <h5 id='result2' class='bg-success rounded-lg'>
                  <h5>g CO2e</h5>
                  <br />
              </div>
              <div>
                <h5>Your Carbon Footprint per year:</h5>
                <h5 id='result3' class='bg-success rounded-lg'>
                  <h5>g CO2e</h5>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const res = document.getElementById('result');
    const res2 = document.getElementById("result2");
    const res3 = document.getElementById("result3");
    const res4 = document.getElementById("result4");
    const mpg = document.getElementById('mpg');
    const dist = document.getElementById('dist');
    const trip = document.getElementById('trips');

    function calcCO2() {
      let x = mpg.value;
      let y = dist.value;
      let z = trips.value;
      let calc4 = (8.8 / x) * 1000;
      let calc = (calc4 * y);
      let calc2 = (calc * z);
      let calc3 = (calc2 * 52);
      calc = calc.toFixed(2);
      calc2 = calc2.toFixed(2);
      calc3 = calc3.toFixed(2);
      calc4 = calc4.toFixed(1);
      console.log('calc is: ' + calc);
      res.innerHTML = calc;
      res2.innerHTML = calc2;
      res3.innerHTML = calc3;
      res4.innerHTML = calc4;
    }
  </script>
</body>

</html>
